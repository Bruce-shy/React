<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="push">push</button>
</body>
<script>
    const push = document.querySelector('#push');
    console.log(history.length, '0');

    // 监听历史记录是否发生变化 前进后退
    window.addEventListener('popstate', () => {
        console.log('history change')
    })
    push.onclick = function () {
        const state = {'page_id': 1, 'user_id': 5}
        const title = ''
        const url = '/push1'
        // 按指定的名称和 URL（如果提供该参数）将数据push进会话历史栈
        history.pushState(state, title, url)
        console.log(history.length, '1');
        history.replaceState(null, null, '/react-router/history.html') // => 使用 replaceState history.length 长度不变
        console.log(history.length, '2');
        console.log(history.state);
    }
</script>

</html>